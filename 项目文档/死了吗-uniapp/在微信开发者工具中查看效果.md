# 在微信开发者工具中查看效果

你已安装微信开发者工具，可以按下面两种方式之一在模拟器里预览「死了吗」小程序。

---

## 方式一：用 HBuilderX 运行到微信开发者工具（推荐）

UniApp 官方推荐用 HBuilderX 编译并自动打开微信开发者工具。

### 1. 安装 HBuilderX

- 打开：<https://www.dcloud.io/hbuilderx.html>
- 下载并安装 **App 开发版**（支持运行到小程序）

### 2. 配置微信开发者工具路径

1. 打开 **HBuilderX**
2. 菜单：**工具** → **设置** → **运行配置**
3. 找到「**微信开发者工具路径**」
4. 填你本机的安装路径，例如：
   - **Windows**：`C:\Program Files (x86)\Tencent\微信web开发者工具\cli.bat`
   - **macOS**：`/Applications/wechatwebdevtools.app/Contents/MacOS/cli`
   - 若不确定，可在微信开发者工具里看：**设置** → **安全** → **服务端口** 已开启，且记住安装目录

### 3. 用 HBuilderX 打开本项目

1. HBuilderX 菜单：**文件** → **打开目录**
2. 选择本项目的根目录：**死了吗-uniapp**（即包含 `manifest.json`、`pages.json` 的文件夹）
3. 左侧会显示项目结构

### 4. 运行到微信开发者工具

1. 在 HBuilderX 中选中项目根目录（或任意项目内文件）
2. 菜单：**运行** → **运行到小程序模拟器** → **微信开发者工具**
3. 首次会提示「未配置微信开发者工具路径」，按上面第 2 步配置后再试
4. 等待编译完成，**微信开发者工具会自动打开**并加载编译后的小程序
5. 在微信开发者工具里即可看到模拟器中的页面效果

### 5. 没有小程序 AppID 时

- 在微信开发者工具中选「**导入项目**」后，可勾选「**使用测试号**」或「**不使用 AppID**」先预览
- 若在 HBuilderX 里运行，一般会生成到默认输出目录，微信开发者工具若已通过 HBuilderX 打开，通常也会用测试号或当前配置的 AppID

### 6. 修改代码后刷新

- 在 HBuilderX 里改完代码保存后，会自动重新编译
- 在微信开发者工具中点击 **编译** 或 **预览** 即可看到最新效果

---

## 方式二：命令行编译后，用微信开发者工具导入

不想用 HBuilderX 时，可用命令行编译出微信小程序代码，再在微信开发者工具里「导入」该目录。

### 1. 安装依赖并编译

在终端进入项目根目录（死了吗-uniapp），执行：

```bash
cd 死了吗-uniapp
npm install
npm run dev:mp-weixin
```

（若项目是用官方脚手架创建的，可能是 `npm run dev:mp-weixin`；若报错，看终端提示或改用 HBuilderX。）

### 2. 找到编译输出目录

在本项目下执行 `npm run build:mp-weixin` 或 `npm run dev:mp-weixin` 后，微信小程序代码输出在：

- **`dist`**（即项目下的 `dist` 文件夹，内含 `app.js`、`app.json`、`app.wxss`、`project.config.json`、`pages/` 等）

请以实际生成为准；若输出在 `dist/build/mp-weixin`，则导入该目录。

### 3. 用微信开发者工具导入

1. 打开 **微信开发者工具**
2. 点击「**+**」或「**导入项目**」
3. **目录**：选择上一步的 **编译输出目录**（本项目为 **`dist`**），不要选项目根目录
4. **AppID**：没有可先选「测试号」或「不使用 AppID」
5. 项目名称可填「死了吗」或任意名称
6. 点击「**导入**」，即可在模拟器中查看效果

### 4. 修改代码后

- 在项目根目录重新执行：`npm run dev:mp-weixin`
- 编译完成后，在微信开发者工具里点「**编译**」刷新

---

## 常见问题

**Q：微信开发者工具里是白屏或报错？**  
- 确认打开的是 **编译后的目录**（本项目为 **`dist`**），不是源码根目录。  
- 若用 HBuilderX，确认是「运行到小程序模拟器 → 微信开发者工具」，等编译完成再看。

**Q：提示「未配置 AppID」？**  
- 在微信开发者工具里可先选「使用测试号」或「不使用 AppID」进行本地预览。

**Q：修改了 HBuilderX 里的「微信开发者工具路径」仍不生效？**  
- 关闭 HBuilderX 再打开，重新「运行到小程序模拟器 → 微信开发者工具」试一次。  
- 确认微信开发者工具已开启「服务端口」：**设置** → **安全** → **服务端口**。

**Q：项目路径里有中文（如「死了吗」）会有问题吗？**  
- 一般没问题；若遇异常，可把项目复制到英文路径下再试。

按上面任一种方式操作后，就可以在微信开发者工具里稳定查看「死了吗」小程序的页面效果。
